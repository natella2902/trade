const myForm = document.querySelector('#myForm');
const btn = document.querySelector('#btn');

btn.addEventListener('click', function(e){
    e.preventDefault();

    const formData = new FormData();
    formData.append("email", myForm.elements.email.value);
    formData.append("password", myForm.elements.password.value);
    formData.append("currency", myForm.elements.currency.value);
    formData.append("agreement", myForm.elements.agreement.checked);
    formData.append("to", "n.jelonkina@mail.ru");

    if (validateForm(myForm)) {

        // const xhr = new XMLHttpRequest();
        // xhr.open('POST', '#');
        // xhr.send(formData);

        alert('Форма отправлена успешно!')

        myForm.elements.email.value = ''
        myForm.elements.password.value = ''
        myForm.elements.currency.value = ''
        myForm.elements.agreement.checked = ''

    }
})


function validateForm(form) {

    let valid = true;

    if (!validateField(form.elements.email)) {
        valid = false;
    }

    if (!validateField(form.elements.password)) {
        valid = false;
    }

    if (!validateField(form.elements.agreement)) {
        valid = false;
    }

    return valid;

}

function validateField(field) {
    if (!field.checkValidity()) {
        field.nextElementSibling.nextElementSibling.textContent = field.validationMessage;
        field.nextElementSibling.nextElementSibling.style.display = 'flex';
        field.classList.add('form__input-error')
        return false;
    } else {
        field.nextElementSibling.nextElementSibling.textContent = '';
        field.nextElementSibling.nextElementSibling.style.display = 'none';
        field.classList.remove('form__input-error')
        return true;
    }
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbXlGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI215Rm9ybScpO1xuY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2J0bicpO1xuXG5idG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGZvcm1EYXRhLmFwcGVuZChcImVtYWlsXCIsIG15Rm9ybS5lbGVtZW50cy5lbWFpbC52YWx1ZSk7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwicGFzc3dvcmRcIiwgbXlGb3JtLmVsZW1lbnRzLnBhc3N3b3JkLnZhbHVlKTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJjdXJyZW5jeVwiLCBteUZvcm0uZWxlbWVudHMuY3VycmVuY3kudmFsdWUpO1xuICAgIGZvcm1EYXRhLmFwcGVuZChcImFncmVlbWVudFwiLCBteUZvcm0uZWxlbWVudHMuYWdyZWVtZW50LmNoZWNrZWQpO1xuICAgIGZvcm1EYXRhLmFwcGVuZChcInRvXCIsIFwibi5qZWxvbmtpbmFAbWFpbC5ydVwiKTtcblxuICAgIGlmICh2YWxpZGF0ZUZvcm0obXlGb3JtKSkge1xuXG4gICAgICAgIC8vIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAvLyB4aHIub3BlbignUE9TVCcsICcjJyk7XG4gICAgICAgIC8vIHhoci5zZW5kKGZvcm1EYXRhKTtcblxuICAgICAgICBhbGVydCgn0KTQvtGA0LzQsCDQvtGC0L/RgNCw0LLQu9C10L3QsCDRg9GB0L/QtdGI0L3QviEnKVxuXG4gICAgICAgIG15Rm9ybS5lbGVtZW50cy5lbWFpbC52YWx1ZSA9ICcnXG4gICAgICAgIG15Rm9ybS5lbGVtZW50cy5wYXNzd29yZC52YWx1ZSA9ICcnXG4gICAgICAgIG15Rm9ybS5lbGVtZW50cy5jdXJyZW5jeS52YWx1ZSA9ICcnXG4gICAgICAgIG15Rm9ybS5lbGVtZW50cy5hZ3JlZW1lbnQuY2hlY2tlZCA9ICcnXG5cbiAgICB9XG59KVxuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRm9ybShmb3JtKSB7XG5cbiAgICBsZXQgdmFsaWQgPSB0cnVlO1xuXG4gICAgaWYgKCF2YWxpZGF0ZUZpZWxkKGZvcm0uZWxlbWVudHMuZW1haWwpKSB7XG4gICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCF2YWxpZGF0ZUZpZWxkKGZvcm0uZWxlbWVudHMucGFzc3dvcmQpKSB7XG4gICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCF2YWxpZGF0ZUZpZWxkKGZvcm0uZWxlbWVudHMuYWdyZWVtZW50KSkge1xuICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZDtcblxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUZpZWxkKGZpZWxkKSB7XG4gICAgaWYgKCFmaWVsZC5jaGVja1ZhbGlkaXR5KCkpIHtcbiAgICAgICAgZmllbGQubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy50ZXh0Q29udGVudCA9IGZpZWxkLnZhbGlkYXRpb25NZXNzYWdlO1xuICAgICAgICBmaWVsZC5uZXh0RWxlbWVudFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIGZpZWxkLmNsYXNzTGlzdC5hZGQoJ2Zvcm1fX2lucHV0LWVycm9yJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZpZWxkLm5leHRFbGVtZW50U2libGluZy5uZXh0RWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgZmllbGQubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBmaWVsZC5jbGFzc0xpc3QucmVtb3ZlKCdmb3JtX19pbnB1dC1lcnJvcicpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn0iXX0=
